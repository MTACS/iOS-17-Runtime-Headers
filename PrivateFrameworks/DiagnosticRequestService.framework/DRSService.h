
@interface DRSService : NSObject {
    DRSCKConfig * _ckConfig;
    DRSCKConfigStore * _ckConfigStore;
    DRSCloudKitHelper * _ckHelper;
    NSObject<OS_dispatch_queue> * _cloudKitQueue;
    NSMutableDictionary * _connectionToState;
    DRSDampeningManager * _dampeningManager;
    bool  _isEnabled;
    unsigned long long  _maxSingleSessionUploadSizeInBytes;
    NSObject<OS_dispatch_queue> * _messageQueue;
    NSObject<OS_dispatch_queue> * _postReceiptWorkQueue;
    NSObject<OS_xpc_object> * _serviceConnection;
    NSPersistentContainer * _serviceContainer;
    NSObject<OS_dispatch_semaphore> * _serviceDeactivatedSem;
    unsigned char  _state;
    DRSTaskingManager * _taskingManager;
}

@property (nonatomic, readonly) DRSCKConfig *ckConfig;
@property (nonatomic, readonly) DRSCKConfigStore *ckConfigStore;
@property (nonatomic, readonly) DRSCloudKitHelper *ckHelper;
@property (nonatomic, readonly) NSObject<OS_dispatch_queue> *cloudKitQueue;
@property (nonatomic, readonly) NSMutableDictionary *connectionToState;
@property (nonatomic, readonly) DRSDampeningManager *dampeningManager;
@property (nonatomic, readonly) bool isEnabled;
@property (nonatomic, readonly) unsigned long long maxSingleSessionUploadSizeInBytes;
@property (nonatomic, readonly) NSObject<OS_dispatch_queue> *messageQueue;
@property (nonatomic, readonly) unsigned long long monthlyUploadQuotaBytes;
@property (nonatomic, readonly) NSObject<OS_dispatch_queue> *postReceiptWorkQueue;
@property (nonatomic, readonly) NSObject<OS_xpc_object> *serviceConnection;
@property (nonatomic, readonly) NSPersistentContainer *serviceContainer;
@property (nonatomic, readonly) NSObject<OS_dispatch_semaphore> *serviceDeactivatedSem;
@property (nonatomic, readonly) unsigned char state;
@property (nonatomic, readonly) DRSTaskingManager *taskingManager;

+ (id)_currentUploadSession_ON_MOC_QUEUE:(id)arg1 errorOut:(id*)arg2;
+ (double)backstopInterval;
+ (id)configurationDirectory;
+ (id)databaseDirectory;
+ (id)fileDirectory;
+ (id)previousUploadSessionDateFromContainer:(id)arg1 errorOut:(id*)arg2;
+ (bool)serviceIsEnabled;
+ (id)sharedInstance;
+ (bool)shouldRunBackstopUpload:(id)arg1 currentDate:(id)arg2 errorOut:(id*)arg3;
+ (id)teamConfigurationDirectory;
+ (bool)updateUploadSessionDateFromContainer:(id)arg1 toDate:(id)arg2 errorOut:(id*)arg3;
+ (unsigned long long)uploadSessionUploadCapBytes;

- (void).cxx_destruct;
- (void)_addCKConfigSettingsToReplyMessage:(id)arg1;
- (void)_addRequestToDAFileList:(id)arg1;
- (id)_cachedMatchingQuery:(id)arg1 workingContext:(id)arg2;
- (void)_ckQueueDownstreamOnly_uploadInFlightWithTransaction:(id)arg1 xpcActivity:(id)arg2 ckHelper:(id)arg3 isExpedited:(bool)arg4 completionBlock:(id /* block */)arg5;
- (void)_ckQueueOnly_submitOutstandingEnableDataGatheringQueriesWithTransaction:(id)arg1 xpcActivity:(id)arg2 ckHelper:(id)arg3 followupWorkBlock:(id /* block */)arg4;
- (void)_configureBackstopUploadXPCActivity;
- (void)_configureExpeditedUploadXPCActivity;
- (void)_configurePermissiveActivityCriteria:(id)arg1 delaySeconds:(unsigned int)arg2;
- (void)_configureReportStatsXPCActivity;
- (void)_configureUploadXPCActivity;
- (void)_configureXPCActivities;
- (bool)_connectionHasEntitlement:(id)arg1;
- (bool)_enableDataGatheringQueryPassesRandomRejection;
- (void)_finishReportingStatsSessionWithActivity:(id)arg1 withState:(long long)arg2 transaction:(id)arg3 endResultString:(id)arg4;
- (void)_finishUploadSessionWithActivity:(id)arg1 withState:(long long)arg2 isExpedited:(bool)arg3 transaction:(id)arg4 completedSuccessfully:(bool)arg5 endResultString:(id)arg6 completionBlock:(id /* block */)arg7;
- (void)_handleCKConfigUpdate:(id)arg1 state:(id)arg2;
- (void)_handleCKWorkTriggerRequest:(id)arg1 state:(id)arg2 transaction:(id)arg3;
- (void)_handleCancelScheduledUploadRequest:(id)arg1 state:(id)arg2;
- (void)_handleDRSRequestMessage:(id)arg1 state:(id)arg2 transaction:(id)arg3;
- (void)_handleDampeningConfigurationDictMessage:(id)arg1 state:(id)arg2 transaction:(id)arg3;
- (void)_handleDampeningConfigurationGlobalEnablementMessage:(id)arg1 state:(id)arg2 transaction:(id)arg3;
- (void)_handleDampeningConfigurationReset:(id)arg1 state:(id)arg2 transaction:(id)arg3;
- (void)_handleEnableLogGatheringRequest:(id)arg1 state:(id)arg2 transaction:(id)arg3;
- (void)_handleGetCKConfig:(id)arg1 state:(id)arg2;
- (void)_handleInjectEnableLogGatheringRequestResult:(id)arg1 state:(id)arg2;
- (void)_handleNewEntitledConnection:(id)arg1 state:(id)arg2;
- (void)_handleRefreshDampeningConfigMessage:(id)arg1 state:(id)arg2 transaction:(id)arg3;
- (void)_handleRequestCleanTrigger:(id)arg1 state:(id)arg2;
- (void)_handleResetCKConfig:(id)arg1 state:(id)arg2;
- (void)_handleUploadSchedulingRequest:(id)arg1 state:(id)arg2;
- (void)_initializeServiceContainer;
- (id)_permissiveXPCActivitCriteriaDict:(unsigned int)arg1;
- (bool)_persistEnableLogGatheringResult:(id)arg1 workingContext:(id)arg2;
- (void)_postReceiptProcessingWork:(id)arg1;
- (unsigned int)_randomDelaySecWithCap:(unsigned int)arg1;
- (void)_registerPermissiveExpeditedUploadXPCActivity:(unsigned int)arg1;
- (void)_rejectInjectRequest:(id)arg1 state:(id)arg2 reason:(const char *)arg3;
- (unsigned long long)_remainingMonthlyUploadQuotaBytesWithContext:(id)arg1;
- (unsigned long long)_remainingSessionUploadQuotaBytesWithContext:(id)arg1;
- (void)_replyToCKConfigMessageWithCurrentCKConfig:(id)arg1;
- (double)_resolvedEnableDataGatheringQueryAcceptanceRate;
- (void)_runCloudKitUploadWorkSessionWithTransaction:(id)arg1 xpcActivity:(id)arg2 isExpedited:(bool)arg3 completionBlock:(id /* block */)arg4;
- (void)_runReportingSessionWithTransaction:(id)arg1 xpcActivity:(id)arg2;
- (bool)_saveDampeningManagerErrorOut:(id*)arg1;
- (void)_sendAdminRequestReply:(bool)arg1 rejectionReason:(const char *)arg2 requestMessage:(id)arg3;
- (void)_sendCurrentConfigurationToConnection:(id)arg1;
- (void)_sendRejectionMessage:(id)arg1 rejectionReason:(unsigned long long)arg2 state:(id)arg3;
- (void)_unregisterPermissiveExpeditedUploadXPCActivity;
- (id)_updateCKConfig:(id)arg1;
- (void)_updateUploadDate;
- (void)_waitForDeviceUnlockAndInitializeServiceState;
- (bool)activateService;
- (id)ckConfig;
- (id)ckConfigStore;
- (id)ckHelper;
- (bool)clearUploadSessionDate:(id*)arg1;
- (id)cloudKitQueue;
- (id)connectionToState;
- (id)dampeningManager;
- (void)deactivateService;
- (void)dealloc;
- (void)handleRequest:(id)arg1 state:(id)arg2;
- (id)init;
- (bool)isEnabled;
- (unsigned long long)maxSingleSessionUploadSizeInBytes;
- (id)messageQueue;
- (unsigned long long)monthlyUploadQuotaBytes;
- (id)postReceiptWorkQueue;
- (id)serviceConnection;
- (id)serviceContainer;
- (id)serviceDeactivatedSem;
- (bool)shouldRunBackstopUpload:(id*)arg1;
- (unsigned char)state;
- (id)taskingManager;
- (bool)updateUploadSessionDate:(id*)arg1;

@end


@interface HMDHH2Migrator : HMFObject <HMFLogging> {
    HMDBackgroundOperationManager * _backgroundOpsManager;
    <HMDDatabase> * _cameraClipsDatabase;
    HMDCoreDataCloudTransform * _cloudTransform;
    HMDCoreData * _coreData;
    <HMDDatabase> * _defaultDatabase;
    HMDHH2FrameworkSwitch * _hh2FrameworkSwitch;
    HMDHomeData * _homeData;
    NSDate * _migrationStartTime;
    HMDHH2MigratorRecord * _migratorRecord;
    NSMutableSet * _openedZones;
    NSObject<OS_dispatch_queue> * _queue;
    NSMutableSet * _scheduledKeyRollOperationsDuringMigration;
    NSMutableSet * _v5ModelUpdateFutures;
}

@property (nonatomic, readonly) HMDBackgroundOperationManager *backgroundOpsManager;
@property (nonatomic, readonly) <HMDDatabase> *cameraClipsDatabase;
@property (nonatomic, readonly) HMDCoreDataCloudTransform *cloudTransform;
@property (nonatomic, readonly) HMDCoreData *coreData;
@property (readonly, copy) NSString *debugDescription;
@property (nonatomic, readonly) <HMDDatabase> *defaultDatabase;
@property (readonly, copy) NSString *description;
@property (readonly) unsigned long long hash;
@property (nonatomic, readonly) HMDHH2FrameworkSwitch *hh2FrameworkSwitch;
@property (nonatomic, retain) HMDHomeData *homeData;
@property (nonatomic, readonly) NSDate *migrationStartTime;
@property (nonatomic, readonly) HMDHH2MigratorRecord *migratorRecord;
@property (nonatomic, readonly) NSMutableSet *openedZones;
@property (nonatomic, readonly) NSObject<OS_dispatch_queue> *queue;
@property (nonatomic, readonly) NSMutableSet *scheduledKeyRollOperationsDuringMigration;
@property (readonly) Class superclass;
@property (nonatomic, readonly) NSMutableSet *v5ModelUpdateFutures;

+ (id)arrayByRemovingElementsInArray:(id)arg1 fromArray:(id)arg2;
+ (id)auditedHomeAccessCodeModelsFromModels:(id)arg1 userAccessCodeModelsAndInvites:(id)arg2;
+ (id)auditedUserAccessCodeModelsAndInvitesFromModels:(id)arg1;
+ (long long)compareUserAccessCodeInModel:(id)arg1 withModel:(id)arg2;
+ (id)logCategory;
+ (id)modelsByDroppingEmptyStringAccessCodesOnModels:(id)arg1;
+ (bool)shouldIgnoreModel:(id)arg1;
+ (id)userAccessCodeFromModel:(id)arg1;

- (void).cxx_destruct;
- (id)_auditAccessCodesByRemovingIllegalDuplicatesFromModels:(id)arg1;
- (void)_createResidentModelsDuringMigrationForAppleMediaAccessory:(id)arg1 context:(id)arg2;
- (void)_fixUpHomeWithoutOwner:(id)arg1 withHH2ControllerKey:(id)arg2 context:(id)arg3;
- (void)_fixupAccessoryWithNoInitialValues:(id)arg1;
- (void)_fixupAccessoryWithNoRoom:(id)arg1 coreDataModelObject:(id)arg2;
- (void)_fixupActionSetInvalidName:(id)arg1 context:(id)arg2;
- (void)_fixupActionSetUnlocalizedName:(id)arg1;
- (void)_fixupAppleMediaAccessory:(id)arg1 context:(id)arg2;
- (void)_fixupCharacteristicEventTriggerInvalidService:(id)arg1 context:(id)arg2;
- (void)_fixupCharacteristicWriteActionWithInvalidService:(id)arg1 context:(id)arg2;
- (void)_fixupGuestAccessCodeWithInvalidLabel:(id)arg1 context:(id)arg2;
- (void)_fixupHomeInvalidName:(id)arg1 context:(id)arg2;
- (void)_fixupHomeManagerPairingIdentity:(id)arg1 withHH2ControllerKey:(id)arg2 context:(id)arg3;
- (void)_fixupInvalidCharacteristicFormat:(id)arg1 context:(id)arg2;
- (void)_fixupSoftwareUpdateModelWithNoAccessory:(id)arg1 coreDataModelObject:(id)arg2;
- (void)_fixupTriggerInvalidName:(id)arg1 context:(id)arg2;
- (void)_fixupUserAccessCodeWithInvalidValue:(id)arg1 context:(id)arg2;
- (void)_fixupUserAuthorizationDataForUserModel:(id)arg1;
- (void)_fixupUserPairingIdentity:(id)arg1 withHH2ControllerKey:(id)arg2 context:(id)arg3;
- (void)_fixupUserUUID:(id)arg1;
- (bool)_performMigrationFromTestDirectoryUsingHH2ControllerKey:(id)arg1;
- (bool)_saveAndResetWithContext:(id)arg1 errorMessage:(id)arg2;
- (bool)_startMigratingHomeDataFromLocation:(id)arg1 usingHH2PairingKey:(id)arg2;
- (void)_updatePairingIdentityForHome:(id)arg1 withHH2ControllerKey:(id)arg2 context:(id)arg3;
- (id)allObjectIDsFromTransactions:(id)arg1 cloudStoreIdentifier:(id)arg2;
- (id)backgroundOpsManager;
- (id)backingStoreObjectsForAccountsAndDevices:(id)arg1;
- (id)cameraClipsDatabase;
- (id)cloudTransform;
- (id)coreData;
- (void)dealloc;
- (id)defaultDatabase;
- (bool)didCoreDataPushAllModelsToCloudKit:(id)arg1 previousToken:(id)arg2 cloudStore:(id)arg3;
- (bool)fetchAndMigrateCameraSettingsFromAccessory:(id)arg1 fromLocalZone:(id)arg2 managedObjectContext:(id)arg3;
- (bool)fetchAndMigrateCompositeSettingsFromAccessory:(id)arg1 fromLocalZone:(id)arg2 managedObjectContext:(id)arg3;
- (id)findAndRemoveAllModelsWithInvalidAccessCodes:(id)arg1;
- (void)fixupAssistantAccessControlForUserModel:(id)arg1;
- (void)fixupModelForMigration:(id)arg1 backingStoreModelObject:(id)arg2 hh2ControllerKey:(id)arg3;
- (bool)handlePostMigration;
- (id)hh2FrameworkSwitch;
- (id)homeData;
- (id)init;
- (id)initWithMigratorRecord:(id)arg1 hh2FrameworkSwitch:(id)arg2 coreData:(id)arg3 cloudTransform:(id)arg4 backgroundOperationManager:(id)arg5 defaultDatabase:(id)arg6 cameraClipsDatabase:(id)arg7;
- (id)makeListOfArchivesToMigrate:(id)arg1;
- (bool)makeSureToCreateHH2SentinelZone;
- (bool)migrateAccessoryV5Models:(id)arg1 fromLocalZone:(id)arg2 forHome:(id)arg3 owner:(id)arg4;
- (bool)migrateCameraProfileSettingModel:(id)arg1 accessory:(id)arg2 managedObjectContext:(id)arg3;
- (bool)migrateCompositeAccessorySettingModel:(id)arg1 accessory:(id)arg2 managedObjectContext:(id)arg3;
- (bool)migrateHome:(id)arg1 primaryHomeUUID:(id)arg2 managedObjectContext:(id)arg3 hh2ControllerKey:(id)arg4;
- (bool)migrateHomeData:(id)arg1 managedObjectContext:(id)arg2 hh2ControllerKey:(id)arg3;
- (bool)migrateHomeManager:(id)arg1 managedObjectContext:(id)arg2 hh2ControllerKey:(id)arg3;
- (bool)migrateHomePersonModelsForHomeUUID:(id)arg1 localZone:(id)arg2 managedObjectContext:(id)arg3;
- (bool)migrateHomeToCoreData:(id)arg1 primaryHomeUUID:(id)arg2 managedObjectContext:(id)arg3 hh2ControllerKey:(id)arg4;
- (bool)migrateMediaContentProfileAccessControl:(id)arg1 forOwnerUser:(id)arg2 fromLocalZone:(id)arg3;
- (bool)migratePersonFaceCropModelsForLocalZone:(id)arg1;
- (bool)migratePhotosPersonManagerSettingsFromLocalZone:(id)arg1 owner:(id)arg2 managedObjectContext:(id)arg3;
- (bool)migrateUserListeningHistoryControl:(id)arg1 forOwnerUser:(id)arg2 fromLocalZone:(id)arg3;
- (bool)migrateUserSettingsToCoreData:(id)arg1 forUser:(id)arg2 fromLocalZone:(id)arg3;
- (bool)migrateV5Models:(id)arg1 forHome:(id)arg2;
- (bool)migrateV5PersonDataForHome:(id)arg1 managedObjectContext:(id)arg2;
- (id)migrationStartTime;
- (id)migratorRecord;
- (id)openZoneWithName:(id)arg1 inDatabase:(id)arg2;
- (id)openedZones;
- (bool)populateAndSaveCDModelsFrom:(id)arg1 managedObjectContext:(id)arg2 hh2ControllerKey:(id)arg3 tag:(id)arg4;
- (id)privateZoneForOwnerUser:(id)arg1;
- (id)queue;
- (void)revertChangesPerformedDuringMigration;
- (bool)rollAccessoryKeysToHH2:(id)arg1 hh2ControllerKey:(id)arg2;
- (bool)saveUserSettingsToCoreData:(id)arg1 forUser:(id)arg2 privateSettingsMap:(id)arg3;
- (bool)scheduleAccessoryKeyMigration:(id)arg1 oldPairingIdentity:(id)arg2 hh2PairingIdentity:(id)arg3;
- (id)scheduledKeyRollOperationsDuringMigration;
- (void)setHomeData:(id)arg1;
- (id)sharedZoneForOwnerUser:(id)arg1;
- (bool)startMigratingHomeDataFromLocation:(id)arg1;
- (bool)startMigrationFromLocation:(id)arg1;
- (bool)startMigrationIfNeeded;
- (void)submitABCEventForFailedMigrationWithReason:(unsigned long long)arg1 withError:(id)arg2;
- (id)v5ModelUpdateFutures;
- (bool)waitForCDToExportModelsToCloudKit:(id)arg1;
- (bool)waitForCloudKitSyncForProcessingResult:(id)arg1 error:(id*)arg2;
- (bool)waitForCloudTransformToRun;
- (bool)waitForFirstImportToFinish;
- (bool)waitForStartupForCloudZone:(id)arg1;
- (bool)waitForV5UpdatesToSyncToCloudKit;

@end
